<!-- Nom du programme: création d'un nouveau client
Equipe: NBM - Nada, Benoit, Mounina
Crée par: Mounina -->
<!DOCTYPE HTML>
    <html lang="fr">
		<body>
        <head>
        <title>Ajout d'un nouveau client</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="assets/css/styles.css" />
        </head>
        <body>
            <div class="barre">
                <p><br></p>
            </div>
        <header><!-- Logo et titre/nom de l'entreprise -->
            <div><img src="https://image.noelshack.com/fichiers/2020/44/2/1603788694-image.png" alt="logo_abi"></div>
            <!--titre-->
            <h1>Active Bretagne Informatique</h1>
            <!--barre de navigation-->
            <nav>
                <ul>
                    <li>|Gestion Commerciale|</li>
                    <li>Gestion RH|</li>
                    <li>Gestion des Projets|</li>
                </ul>
            </nav>
        </header><br>
        <aside><!-- Ajout des boutons-->
            Vous êtes connecté(e) en tant que "" 
            <input type="button" value="Se déconnecter">
            <br>
            <br>
        </aside><br><br>    <!--formulaire-->
        <div class="titredeux">
        <h2 class="formulaire"> Ajout d'un nouveau client </h2> <br><br>          
        </div>
			<form action="inscription" method="post">
    			<div>
        			<label for="nom">Nom :</label>
                    <input type="text" id="name" class="validation" name="user_name" minlength="2" maxlength="20" required>
                    <span id= "nom_manquant"></span>
    			</div><br>
    			<div>
        			<label for="prenom">Prenom :</label>
                    <input type="text" id="firstname" name="user_firstname" class="validation" minlength="2" maxlength="20" required>
                    <span id="prenom_manquant"></span>
    			</div><br>
    			<div>
        			<label for="naissance">Naissance :</label>
                    <input type="date" name="bday" id="user_naissance" value="2020-01-01" min="1940-01-01" max="2002-12-31" required>
    			</div><br>
    			<div>
        			<label for="adresse">Adresse :</label>
                    <input type="text" id="adresse" class="validation" name="user_adress" required>
                    <span id="adresse_manquant"></span>
    			</div><br>
    			<div>
        			<label for="cp">Code Postal et Ville :</label>
                    <input type="text" id="cp" name="user_cp" required>
                    <span id="cp_manquant"></span>
    			</div><br>
                <div>
                    <label for="telephone">Téléphone :</label>
                    <input type="tel" id="telephone" pattern="^((\+\d{1,3}(-| )?\(?\d\)?(-| )?\d{1,5})|(\(?\d{2,6}\)?))(-| )?(\d{3,4})(-| )?(\d{4})(( x| ext)\d{1,5}){0,1}$" required>
                    <span id="telephone_manquant"></span>
                </div><br>
    			<div>
        			<label for="mail">e-mail :</label>
                    <input type="email" id="mail" name="user_mail" required>
                    <span id= "email_manquant"></span>
    			</div><br>
    			<div>
        			<label for="identifiant">Identifiant :</label>
                    <input type="text" id="identifiant" name="user_identifiant" required>
                    <span id= "identifiant_manquant"></span>
    			</div><br>
    			<div>
        			<label for="inscription">Date d'inscription :</label>
					<input type="date" name="datetime" id="datetime" value="2020-01-01" min="2020-01-01" max="2020-12-31" required>
    			</div><br>
    			<div>
        			<label for="associer">Associer client:</label>
                    <input type="text" id="Suggestions">
                    <div id="suggestions"></div>
    			    
                 </div><br><br>

    			<div class="button">
                <button type="reset">ANNULER</button> <button type="submit" id="valider">VALIDER SAISIE</button>
    			</div><br>
			</form><br>
            <script>
                /* je créé ma variable validation en allant chercher dans le dom l'id valider*/
            var validation= document.getElementById('valider');
            var nom= document.getElementById('name');
            var nom_m= document.getElementById('nom_manquant');
            var prenom= document.getElementById('firstname');
            var prenom_m= document.getElementById('prenom_manquant');
            var adresse= document.getElementById('adresse');
            var adresse_m= document.getElementById('adresse_manquant');
            var code= document.getElementById('cp');
            var code_m= document.getElementById('cp_manquant');
            var telephone= document.getElementById('telephone');
            var telephone_m= document.getElementById('telephone_manquant');
            var elements = document.getElementsByClassName('validation');
         
            /* je me sert de l'évennement click afin d'indiquer que c'est cette action que je vise*/
            validation.addEventListener('click', form_valid);
            /* je créé la fonction de cet evenement appelé e et je pose ma condition
            si le champs n'est pas valide, alors on affiche le message erreur en rouge*/
            function form_valid(e){
                if (nom.validity.valueMissing){
                    e.preventDefault();
                    nom_m.textContent='Nom manquant, veuillez compléter le champs';
                    nom_m.style.color='red'; 
                if (prenom.validity.valueMissing){
                    e.preventDefault();
                    prenom_m.textContent='Prénom manquant, veuillez compléter le champs';
                    prenom_m.style.color='red';
                if (adresse.validity.valueMissing){
                    e.preventDefault();
                    adresse_m.textContent='Adresse manquant, veuillez compléter le champs';
                    adresse_m.style.color='red';
                if (code.validity.valueMissing){
                    e.preventDefault();
                    code_m.textContent='Code postal manquant, veuillez compléter le champs';
                    code_m.style.color='red';
                if (telephone.validity.valueMissing)  {
                    e.preventDefault();
                    telephone_m.textContent='Téléphone manquant, veuillez compléter le champs';
                    telephone_m.style.color='red';   
                }
                }
                }
                }     
                }
            
                else {
                    alert('formulaire valider avec succès!')
                    }
            }









         
        
            </script>
        <footer><!-- Pied de page -->
            <p class="footer">&copy; ABI 2020. Tous droits réservés</p>
            <a href="mailto:contact@abi.fr">contact@abi.fr</a>
        </footer>
        <div class="barre">
            <p><br></p>
        </div>
		</body>
</html>
